{
  "title": "Core Services Overview",
  "objectives": [
    "Understand the role of each core service",
    "Learn how services communicate with each other",
    "See the big picture of AgentCore infrastructure"
  ],
  "content": "# Core Services Overview\n\nAgentCore is composed of four core services, each handling a specific aspect of agent infrastructure. Let's understand what each does and how they work together.\n\n## The Four Pillars\n\n```\n┌─────────────────────────────────────────────────────────────────┐\n│                        AgentCore                                 │\n├────────────────┬────────────────┬────────────────┬──────────────┤\n│    Runtime     │    Memory      │    Gateway     │   Identity   │\n│    Service     │    Service     │    Service     │   Service    │\n├────────────────┼────────────────┼────────────────┼──────────────┤\n│ Agent          │ Session        │ API            │ Auth         │\n│ execution      │ storage        │ management     │ & access     │\n│                │                │                │ control      │\n└────────────────┴────────────────┴────────────────┴──────────────┘\n```\n\n## Runtime Service\n\nThe **Runtime Service** is where agents actually execute:\n\n**Responsibilities:**\n- Orchestrate the agent loop (think → act → observe)\n- Manage tool execution and results\n- Handle LLM API calls to Bedrock\n- Process streaming responses\n- Manage timeouts and retries\n\n**Key Features:**\n- Horizontal scaling for high throughput\n- Automatic retry with backoff\n- Streaming support for real-time responses\n- Tool sandboxing for security\n\n## Memory Service\n\nThe **Memory Service** handles all persistent state:\n\n**Responsibilities:**\n- Store conversation history\n- Manage session state\n- Provide long-term memory storage\n- Handle context window management\n\n**Key Features:**\n- Low-latency reads for real-time conversations\n- Automatic summarization for long contexts\n- TTL-based cleanup\n- Cross-session memory sharing\n\n## Gateway Service\n\nThe **Gateway Service** is the front door to AgentCore:\n\n**Responsibilities:**\n- Accept and route incoming requests\n- Authenticate API calls\n- Rate limiting and throttling\n- Protocol translation (HTTP, WebSocket)\n\n**Key Features:**\n- High availability with automatic failover\n- DDoS protection\n- Request/response logging\n- Multiple protocol support\n\n## Identity Service\n\nThe **Identity Service** manages security:\n\n**Responsibilities:**\n- API key lifecycle management\n- Permission policy enforcement\n- Audit logging\n- Token validation\n\n**Key Features:**\n- Fine-grained permissions\n- Key rotation support\n- Integration with AWS IAM\n- Comprehensive audit trail\n\n## How Services Communicate\n\n```\n  Client Request\n       │\n       ▼\n┌──────────────┐\n│   Gateway    │──────────────────┐\n│   Service    │                  │\n└──────┬───────┘                  │\n       │                          ▼\n       │ validate          ┌──────────────┐\n       │ route             │   Identity   │\n       │                   │   Service    │\n       ▼                   └──────────────┘\n┌──────────────┐                  ▲\n│   Runtime    │──── auth check ──┘\n│   Service    │\n└──────┬───────┘\n       │ read/write\n       │ state\n       ▼\n┌──────────────┐\n│   Memory     │\n│   Service    │\n└──────────────┘\n```\n\n**Communication patterns:**\n- Gateway → Runtime: gRPC for low latency\n- Runtime → Memory: Async for non-blocking I/O\n- Runtime → Identity: Cached for performance\n- All services → Observability: Metrics & traces\n\n## Service Dependencies\n\n| Service | Depends On | Provides To |\n|---------|------------|-------------|\n| Gateway | Identity | External clients |\n| Runtime | Memory, Identity | Gateway |\n| Memory | (DynamoDB) | Runtime |\n| Identity | (Cognito/IAM) | All services |\n\n## Deployment Considerations\n\n### Scaling Each Service\n\n**Runtime**: Scale based on concurrent agents\n- More instances = more parallel conversations\n- Stateless, easy horizontal scaling\n\n**Memory**: Scale based on storage needs\n- Read replicas for high-read workloads\n- Partitioning for large datasets\n\n**Gateway**: Scale based on request volume\n- Auto-scaling based on connections\n- Regional deployment for latency\n\n**Identity**: Scale based on auth volume\n- Caching reduces load significantly\n- Typically smallest footprint\n\n## Next Steps\n\nNow that you have the big picture, let's dive deep into each service, starting with the Runtime Service - the heart of agent execution."
}
